{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Turnpiece{% endblock %}</title>
    <link rel="icon" type="image/svg+xml" href="{% static 'assets/favicon.svg' %}">
    <link rel="icon" type="image/x-icon" href="{% static 'assets/favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
    {% block head %}{% endblock %}
</head>
<body class="bg-gray-50">
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="{% url 'home' %}" class="flex items-center">
                    <picture>
                        <source srcset="{% static 'assets/tp-logo-white-transparent-fixed.svg' %}" type="image/svg+xml">
                        <img src="{% static 'assets/tp-logo-white-transparent-fixed.png' %}" alt="Turnpiece" class="h-10 w-auto transition-transform duration-100" id="header-logo">
                    </picture>
                </a>
                <nav class="flex space-x-8">
                    <a href="{% url 'home' %}#projects" class="text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors">Projects</a>
                    <a href="{% url 'home' %}#contact" class="text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors">Contact</a>
                </nav>
            </div>
        </div>
    </header>
    
    <main class="min-h-screen">
        {% block content %}{% endblock %}
    </main>
    
    <script>
        // Scroll-based logo rotation
        document.addEventListener('DOMContentLoaded', function() {
            const headerLogo = document.getElementById('header-logo');
            
            if (headerLogo) {
                window.addEventListener('scroll', function() {
                    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    const windowHeight = window.innerHeight;
                    const documentHeight = document.documentElement.scrollHeight;
                    
                    // Calculate scroll percentage (0 to 1)
                    const scrollPercentage = Math.min(scrollTop / (documentHeight - windowHeight), 1);
                    
                    // Map scroll percentage to rotation (0 to 360 degrees)
                    const rotation = scrollPercentage * 360;
                    
                    // Apply the rotation
                    headerLogo.style.transform = `rotate(${rotation}deg)`;
                });
            }
        });
    </script>
</body>
</html>
